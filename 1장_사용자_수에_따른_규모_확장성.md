# 1장: 사용자 수에 따른 규모 확장성
* 한 대의 서버에서 시작하여, 계층별 분리 & 다중화를 통해 높은 처리량과 고가용성을 갖춘 서버 구축

## 최종적 구조와 흐름
![alt text](image.png)
* DNS: 사용자는 DNS를 이용해 url -> ip를 얻어 로드밸런서에 요청을 보냄
* CDN: 사용자는 서버에서 반환한 html에 포함된 정적 리소스를 얻기 위해 CDN에 요청을 보냄
* 로드밸런서: 여러 웹 서버에 부하를 분산시킴
* 웹 서버: 무상태성을 통해 부하 분산의 유연성을 높임. 트래픽 양에 따라 웹 서버를 늘리거나 줄임
* 메시지 큐: 처리가 오래 걸리는 작업은 메시지 큐에 요청 메시지 발행
* 작업 서버: 메시지 큐를 구독해서 요청 처리
* NoSQL(주된 용도: 상태 저장): 무상태 웹 서버를 유지하기 위해 모든 웹 서버에서 접근할 수 있는 공유 상태 저장소 마련
* DB: 주-부 DB를 분리한 다중화를 통해 병렬 처리(쓰기-읽기 분리)&장애 대응, 샤딩을 통해 서비스 규모가 커지는 상황에서 데이터 분산 저장
* 캐시: 자주 조회되는 데이터를 캐싱. 해당 서비스의 데이터 이용 특성에 맞춰 캐시 읽기/쓰기 전략 채택. 캐시 다중화를 통해 부하 분산
* 로그, 매트릭, 자동화
    * 로그: 에러 로그를 통해 문제 원인 파악
    * 매트릭: 활성 사용자, 리소스 사용량, 컴포넌트(DB, cache 등) 성능 수치 등을 통해 개선 방향 결정
    * 자동화: 관리 피로도 감소, 여러 데이터 센터, 다중화된 서버 간 환경 통일